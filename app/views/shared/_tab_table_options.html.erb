<div class="accordion" id="aboveTableAccordionOptions">


  <div class="card">

    <div class="card-header">
      <h2 class="mb-0">
        <button class="btn btn-link" type="button" data-toggle="collapse" data-target="#collapseOptions" aria-expanded="false" aria-controls="collapseOptions" id="tableOptions">
          Options
        </button>

        <% if current_user.has_role? :admin %>

        <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapseAdminOptions" aria-expanded="false" aria-controls="collapseAdminOptions" id="adminOptions">
          Admin Options
        </button>
        <% end %>

      </h2>
    </div>

    <div id="collapseOptions" class="collapse" aria-labelledby="tableOptions" data-parent="#aboveTableAccordionOptions">
      <div class="card-body">

      <% if main_controllers.include? controller_name %>
        <% if index_action_purchaser_and_vendor? != true %>
            <div class="p-3">
              <%= render "table_options/table_options_modal" %>
            </div>
            <div class=" text-gray-500 text-sm"> (Select what columns are displayed on Table)</div>
            <hr>
        <% end %>
      <% end %>

      <% if show_on_order_ship_purchaser_pages? && ("#{controller_name}##{action_name}" != "orders#show") %>
        <a href="#" onclick="return false;">
          <span onclick="reverseTable()"> Reverse Table Content </span>
        </a>
        <hr>
      <% end %>

      <%= link_to "All Orders Page", all_orders_path %>
      <hr>
      <!-- Download All Orders-->
      <%= render "orders/export_csv_button"%>

      </div>
    </div>

  </div>

  <div class="card">
    <div id="collapseAdminOptions" class="collapse" aria-labelledby="adminOptions" data-parent="#aboveTableAccordionOptions">
      <div class="card-body">
        <%= link_to 'Admin Dashboard', admin_users_path if current_user.has_role? :admin %>
      </div>
    </div>

  </div>


</div>

<script type="text/javascript">

  function reverseTable() {
    var table = document.getElementById("table-body")
    var trContent = []
    for (var i = 0, row; row = table.rows[i]; i++) {
      trContent.push(row.innerHTML)
    }
    trContent.reverse()
    for (var i = 0, row; row = table.rows[i]; i++) {
      row.innerHTML = trContent[i]
    }
  }

</script>
